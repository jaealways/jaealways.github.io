---
layout: post
title:  "[PAPER] Optimal Limit Order Book Trading Strategies with Stochastic Volatility in the Underlying Asset"
author: jaealways
categories: [ paper, QUANT]
tags: [PAPER, ComputEcon'23, HFT]
---


# [PAPER] Optimal Limit Order Book Trading Strategies with Stochastic Volatility in the Underlying Asset
[reference: Burcu Aydoğan et al, "Optimal Limit Order Book Trading Strategies with Stochastic Volatility in the Underlying Asset", 2022](https://link.springer.com/article/10.1007/s10614-022-10272-4)



# TLDR


# Abstract

- 특히 확률적 통제 및 최적화 문제와 관련하여 양적 금융의 새로운 측면과 발전에 초점을 맞춘다.
- Heston 확률적 변동성 프레임워크를 이용하여 가격 충격 모형과 관련된 최적의 거래 전략을 다룬다. 여기에는 가격 변동성뿐만 아니라 가격 변동성에서도 점프 과정이 포함된다.
- 주요 목표는 재고를 통제함으로써 거래자의 기대 수익을 극대화하는 것입니다.
- 본 논문은 2차 함수와 지수 함수의 두 가지 형태의 효용함수를 고려한다. 두 시나리오 모두 시장조성자의 잔여재고는 청산비용이 발생한다.
- 재고 위험 통제를 강조하고 다양한 모형 모수들이 최적 입찰 가격과 호가에 미치는 영향을 분석한다.
- 거래자의 전략적 의사결정에서 손익분배(PnL) 표준편차와 샤프 비율과 같은 리스크 메트릭의 중요성을 강조한다.
- 비선형 해밀턴-자코비-벨만(HJB) 방정식을 풀기 위해 유한 차분, 선형 보간 및 외삽 기법을 활용한다.
- 수치 시뮬레이션을 위한 모델링에 다양한 경우를 포함합니다.


# 1 Introduction

- 양적 금융 전략, 특히 컴퓨터 프로그램에 의해 매우 빠른 속도로 실행되는 주문을 포함하는 고주파 거래(HFT)의 중요한 발전.
- 고주파 거래는 확률적 최적화, 금융, 경제, 통계 등을 포함하는 학제간 분야인 시장 미시구조에 미치는 영향으로 큰 관심을 얻고 있다.
- 고빈도 매매의 도입은 다양한 알고리즘 매매 전략으로 이어졌으며, 이러한 전략을 분석하고 최적화하기 위한 정량적 방법에 대한 필요성이 증가하였다.
- 전자시장에서는 모든 거래자가 LOB(Limit Order Books)에서 시장조성자 역할을 하며 유동성을 제공하고 입찰 및 호가를 설정할 수 있다. 이러한 설정은 자산가격 동태성과 최적 스프레드를 포함하는 복잡한 문제를 제시한다.
- 확률적 통제 이론은 가격 동학과 일치하는 제약 조건을 고려하고 재고 위험을 관리하면서 거래자의 목적 함수를 극대화하기 위한 최적의 전략을 모색함으로써 이러한 최적화 문제를 해결하는 데 도움이 된다.
- 최적의 확률적 제어 문제를 위해 비선형 해밀턴-자코비-벨만(HJB) 방정식을 풀어야 하며, 종종 근찾기 알고리즘을 사용한다.
- 최적의 시장조성에 관한 문헌을 크게 발전시킨 Aveellaneda와 Stoikov(2008), Guilbaud와 Pham(2013), Bayraktar와 Ludkovski(2014) 등의 작품과 같은 분야의 주요 공헌을 언급한다.
- 이 논문의 목적은 확률적 변동성, 시장 영향 및 주문 유형에 의해 영향을 받는 최적의 인용 전략을 제안하는 것이다. 또한 변동성 점프가 시장 동태성에 미치는 영향에 대해서도 탐구한다.
- 이 접근법은 다양한 효용 함수 하에서 확장된 가격 모델링을 조사하는 것과 시장 영향 평가를 위해 두 개의 독립적인 카운팅 프로세스를 사용하는 것을 포함한다.
- 본 논문은 최적의 견적을 위한 폐쇄형 해를 도출하고, 유한 차분 이산화를 이용한 비선형 HJB 방정식을 해결하며, 스프레드 값을 평가하고, 시뮬레이션 분석을 수행하는 것을 목표로 한다.
- 또한 그들의 전략에 기반한 모형의 위험 및 정규성 검정을 탐구하고 도출된 모형을 2차 및 지수 효용 함수 모두에서 기존의 최적 시장조성 모형과 비교한다.



# 2 A Market Making Optimization Problem in a Limit Order Book

- 전략이 종료시점에 가까워질수록 불이익을 주는 모수가 존재하지 않는 시나리오(a = 0, w = 0)에서 거래자의 행태가 나타난다. 이 경우 스프레드들은 종료시점에 시점이 가까워지면(t → T) 특정 값으로 수렴하는 것으로 관측된다.
- 청산 패널티 파라미터와 변동 패널티가 최적 스프레드에 미치는 영향을 분석한다. 구체적으로, 집합 {0, 0.1}의 a = 0.1과 w에 대해 본 논문은 이러한 조건에서 시간이 종단점에 접근함에 따라 최적 스프레드가 어떻게 행동하는지를 검정한다.
- 청산 페널티와 변동 페널티 요인이 존재할 때(a = 0.1, w = 0.1), 거래자는 전략이 종료 시점에 가까워질수록 좀 더 조심스럽게 행동한다. 만기에 자산을 보유하고 있는 경우, 거래자가 변동을 청산하고 실행하는 데 필요한 비용을 충당해야 할 수 있기 때문이다.
- 이와 같은 시나리오에서 거래자는 재고량이 음수일 때(q < 0), 이러한 비용을 충당하기 위해 최적 매도 스프레드를 증가시킨다. 반대로 거래자가 충분한 자산을 보유할 때(q ≥ 0), 이러한 비용의 지불을 피하기 위해 스프레드를 감소시킨다.
- 이 모형은 거래자가 0.1 파라미터 값까지 무리 없이 청산 비용을 충당할 수 있어 효율적인 것으로 판단된다.



# 3 Dynamic Programming Equation for the Value Function

- 이 절에서는 한계 주문서에서 시장이 최적화를 만드는 상황에서 가치 함수를 결정하는 데 중심이 되는 동적 프로그래밍 방정식의 개발에 대해 자세히 설명한다.
- 이 방정식들은 가격 움직임, 주문서 깊이, 거래자 행동과 같은 다양한 요인을 포함하여 시장 역학의 복잡성을 포착하기 위해 공식화된다.
- 이러한 동적 프로그래밍 방정식을 모델링하고 해결하기 위해 고급 수학적, 통계적 기법을 사용하는 방법이 이 접근법에 포함된다.
- 가치 함수의 공식화는 다양한 시장 결정 전략의 기대 수익과 관련 위험을 캡슐화하기 때문에 시장 제조자의 최적 전략을 이해하는 데 필수적이다.
- 이 섹션은 또한 이 방정식들의 가능성 있는 복잡성과 문제의 높은 차원성을 고려할 때, 이 방정식들을 풀기 위해 사용되는 계산 방법에 대해 논의할 수 있다.
- 이 논문의 내용은 고빈도 거래 환경에서 실질적인 거래 전략을 위한 이론적 토대를 구축하는 데 중요하다는 점에 주목할 필요가 있다.


## 3.1 Case 1: Quadratic utility function

논문의 "Case 1: Quadrary Utility Function"이라는 제목의 섹션 3.1은 다음과 같은 핵심 사항을 다루고 있다:

- 이 절에서는 제한 주문서 내의 시장 형성 및 거래 전략의 맥락에서 2차 효용 함수의 적용에 대해 논의한다.
- 2차 효용함수는 거래자의 선호와 행동, 특히 잠재적 이득과 위험 간의 균형을 맞추는 방법을 모델링하는 데 사용된다.
- 2차 효용함수의 수학적 공식화는 시장에서의 거래전략과 의사결정과정에 대한 함의와 함께 상세하게 기술되어 있다.
- 이 절에서는 2차 효용함수가 시장조성자들이 설정한 최적 입찰가격과 호가에 어떤 영향을 미치는지에 대한 분석을 포함할 가능성이 높다.
- 다양한 시장요인과 매개변수가 2차효용함수에 미치는 영향, 결과적으로 거래전략에 미치는 영향을 분석한다.
- 이론적이고 수치적인 결과는 2차 효용 함수가 시장조성자의 의사결정과 한계주문서의 전체 역학에 어떤 영향을 미치는지를 보여준다.

상세한 이해와 구체적인 수학적 공식을 위해 논문의 3.1절을 자세히 읽는 것이 좋다. 아쉽게도 이 절의 구체적인 내용은 제공된 발췌문에 나와 있지 않다.



### 3.1.1 Deriving the optimal quotes



### 3.1.2 Verification argument




## 3.2 Case 2: Exponential utility function


- 본 절에서는 한계주문서 내의 시장조성 및 거래전략에서 지수효용함수의 적용에 대해 살펴본다.
- 지수효용함수는 거래자들의 위험회피행동을 모형화하는 데 사용되며, 거래전략에서 위험을 평가하고 상충관계를 반환하는 방법을 고려한다.
- 섹션은 지수 효용 함수의 상세한 수학적 공식 및 최적 거래 결정에 대한 그것의 함의를 포함할 수 있다.
- 이러한 효용함수가 다양한 시장 상황에 대응하여 시장조성자들이 최적 입찰을 결정하는 데 어떤 영향을 미치는지에 대해 논의할 것으로 보인다.
- 지수효용함수 하에서 다양한 시장요인과 매개변수가 거래의사결정에 미치는 영향을 분석한다.
- 지수효용함수가 의사결정과정과 시장의 역동성에 미치는 영향을 설명하기 위해 이론적이고 수치적인 결과를 제시한다.


### 3.2.1 Solution of the HJB equation



# 4 Effect of the Jumps in Volatility in a LOB model

- LOB(Limit Order Book) 모형의 틀 안에서 변동성의 급격한 점프가 미치는 영향 탐색.
- 이러한 점프가 특히 가격, 유동성 및 위험 관리 측면에서 시장 역학에 어떤 영향을 미치는지 분석한다.
- 변동성 점프에 대한 수학적 모델링과 LOB 프레임워크로의 통합은 시장조성 전략에 미치는 영향을 더 잘 이해하기 위한 것이다.
- 변동성 점프가 시장조성자와 거래자 모두에게 주는 의미에 대한 논의는 특히 입찰담합 스프레드, 주문집행, 재고관리 측면에서 이루어진다.
- 이 섹션에서는 관련 위험을 완화하기 위한 전략을 포함하여 변동성의 점프를 다루는 이론적 통찰력과 실무적 시사점을 모두 제시할 수 있다.
- 이러한 점프가 시장 행동의 다양한 측면에 미치는 영향을 보여주는 잠재적인 수치 시뮬레이션이나 경험적 증거가 있다.


# 5 Numerical Results

1. **시간에 따른 최적 스프레드**: 최적 스프레드가 시간에 따라, 특히 t = 0, t = 5, t = 10과 같은 다양한 거래 시간에서 어떻게 변하는지에 대해 논의하는 것으로 시작한다. 거래자의 행동은 거래 시간에 따라, 특히 청산 비용 측면에서 변화한다는 점에 주목한다.

2. **Statistical Analysis**: 손익분기점(PnL) 및 재고함수에 대해서는 샤프 비율, 왜도, 첨도 등 다양한 통계측정치를 제공하고 있다. 이러한 통계치는 거래전략의 성과 및 위험특성을 파악하는데 중요하다.

3. **다양한 매개변수의 영향**: 이 논문에서는 다양한 매개변수가 최적의 견적 및 전략에 미치는 영향을 탐구한다. 여기에는 드리프트 상수(l), 변동에 불이익을 주는 상수(w), 변동성에 대한 평균 회귀 조정률(k), 분산(r) 등의 매개변수가 포함된다. 각 매개변수에 대해 서로 다른 시나리오를 분석하고, 이들이 최적의 가격 및 스프레드에 미치는 영향에 대해 논의한다.

4. **터미널 시간전략 접근**: 본 절에서는 만기가 도래함에 따라 거래자의 전략이 어떻게 변화하는지를 중심으로 살펴본다. 재고에 대한 입장과 함께 상수의 청산과 불이익 변동이 거래자의 행동에 어떤 영향을 미치는지 논의한다.

5. **모형비교**: 이 논문은 다양한 효용함수(예: 2차효용함수와 지수효용함수)를 가진 다른 모형들을 비교한다. 여기에는 다양한 모형들이 이러한 효용함수들 하에서 어떻게 행동하는지, 그리고 그것들이 최적의 거래전략에 주는 함의를 비교 분석하는 내용이 포함되어 있다.

6. **변동성의 점프가 미치는 영향**: 이 절에서는 LOB 모형의 변동성의 점프가 미치는 영향에 대한 논의를 포함한다. 변동성의 점프는 이익의 크기도 크지만 손익함수의 표준편차도 크다는 점에 주목한다.

7. **전체적인 모델 효율성 및 성능**: 본 논문은 청산 비용과 재고 수준을 효과적으로 관리하는 데 있어 제안된 모델들의 효율성을 강조함으로써 본 절을 마무리한다. 해당 모델들을 문헌상 기존 모델들과 비교함으로써 시장조성 전략의 성능이 개선되었음을 보여준다.


## 5.1 Results with the quadratic utility function

1. **최적 스프레드의 행동**: 시간 t=0에서는 최적 스프레드의 행동이 단조롭지 않지만, 시간 t=5와 t=10에서는 특정 행동이 관찰된다. 
2. **청산비용 고려**: 거래자는 자산을 매도할 때, 특히 재고가 마이너스일 때, 청산비용을 충당할 필요가 있다. 재고가 플러스일 때, 잔여 재고 및 이와 관련된 청산비용을 피하기 위해서는 낮은 요구가격이 최적이다.
3. **시간 및 재고 영향**: 시간이 최종 시간으로 갈수록 거래자들은 a(재고 수준)의 가치 상승을 위해 단조롭게 행동한다.
4. **손익통계**: 이 논문은 샤프 비율, 왜도, 첨도 등의 측정값을 포함하여 손익(PnL)과 재고 함수에 대한 상세한 통계 분석을 제공한다.
5. **다양한 상수들의 영향(l, w, k, r)**: 이 논문에서는 다양한 상수들이 최적가격과 스프레드에 미치는 영향에 대해 논의한다. 예를 들어, 드리프트 파라미터(l)의 증가는 더 높은 최적가격으로 이어져 가격 상승을 예상하게 한다.
6. ** 터미널 시간 접근 전략**: 거래자의 행동은 터미널 시간이 가까워질수록 질적으로 변하며, 청산 및 상수 및 재고 포지션의 변동에 따라 불이익을 준다.
7. **수치 시뮬레이션**: 이 논문은 다양한 시나리오와 파라미터 설정 하에서 이러한 동작을 보여주는 수치 시뮬레이션을 제시한다.


### 5.1.1 Comparative statistics


#### 5.1.2.1 Effects of alpha


#### 5.1.2.2 Effects of mu



#### 5.1.2.3 Effects of psi


#### 5.1.2.4 Effects of k


#### 5.1.2.5 Effects of sigma


### 5.1.3 Approaching terminal time strategy


## 5.2 Results with the exponential utility function

- 실험은 다른 매개변수들을 표 1과 같이 일정하게 유지하면서 집합 \{0.0001, 0.001, 0.01\}의 값을 가지고 다른 위험회피 정도 \(c \)에서 \(d^+(0, m_0, q) \)의 성능을 분석하기 위해 설정되었다.
- 모수 \(c \)는 투자자의 위험 회피도를 나타낸다. \(c \)가 증가할수록 투자자는 위험 회피도가 증가한다.
- 위험 회피도가 높을수록 투자자는 긍정적인 재고 수준에서 더 낮은 가격에 자산을 판매하여 가격 위험과 청산 위험을 모두 줄이는 것을 목표로 한다.
- 투자자가 청산 위험에 직면하지 않는 부정적인 재고 수준에서 그녀는 자산을 판매하는 데 더 높은 금액을 받는 것을 목표로 한다.
- 논문의 <표 10>은 청산 모수 \(a = 0.01 \)로 전략의 성과를 나타내고 있으며, 이러한 조건하에서 투자자의 행동을 보여주고 있다.
- 수치 실험을 통해 \(c \)의 값이 다른 최적 스프레드의 예상 거동을 확인하였다.
- 전체적인 결과는 특히 다양한 재고 수준의 자산 가격 결정 측면에서 위험 회피 수준이 투자자의 전략에 유의한 영향을 미친다는 것을 보여준다.


## 5.3 Results of the model with jumps in volatility

- "모형 1"과 "모형 2"로 지칭되는 두 모형에 대한 가치함수를 계산하기 위해 선형보간법과 외삽법을 이용한 수치실험을 실시하였다. 모형 1은 제3절의 Case 1에서 설명한 주가동역학에 기초한 것이며, 모형 2는 서로 다른 동학을 따른다.
- 본 논문의 그림은 두 모형의 매수-매도 스프레드 값(d+)을 비교한 것이다. 주가의 급등을 반영한 모형 1은 모형 2에 비해 약간 더 넓은 매수-매도 스프레드를 보이는 것으로 관찰된다.
- 모형 1의 경우 입찰담합 스프레드가 1.0402로 계량화되어 있는 반면, 모형 2의 경우 표 1과 같이 다른 모수들이 일정할 때 1.0328로 다소 좁다.
- 모든 모의실험에서 표 11에 정리된 결과는 변동성에 점프가 포함되면 이익이 더 커지지만 손익함수의 표준편차가 더 커짐으로써 위험이 증가함을 나타낸다.

## 5.4 Comparison with existing models

- 본 절에서는 주가 영향에 기초한 현재의 최적 시장 결정 모형과 논문의 앞 절에서 소개한 모형을 비교하는 데 초점을 맞춘다.
- 2차 함수와 지수 함수의 두 가지 다른 유형의 효용 함수를 사용하여 이들 모형을 평가하기 위해 수치 실험을 수행하였다.
- 비교는 가치 함수에 대한 결과를 평가하는 것을 목표로 한다.

# 6 Conclusion

- 본 연구는 시장 주문의 도달과 실행을 모두 고려하여 평균 회귀 확률 변동성 모형을 이용한 시장조성자의 고빈도 거래 전략에 초점을 두었다.
- 최적의 입찰 및 호가를 생성하기 위해 주문 수익률의 점프 효과를 통합하여 가변 유틸리티로 모형을 개발하였다.
- 확률적 변동성의 점프를 통합하는 새로운 접근법이 도입되어 실제 내재적 변동성 미소에 대한 적합도를 향상시켰다.
- 다양한 지표를 이용하여 다양한 재고 수준과 효용 함수의 변화 등 다양한 시나리오에서 시장조성자의 적응적 행동을 강조하여 모형을 분석하였다.
- 이 연구는 점프 효과와 비교 통계가 거래자들이 기대 이익을 달성하는 데 중요한 정보를 제공한다는 것을 발견하였다.
- 모형은 시간이 종단 지평선에 가까워질수록 최적 스프레드는 고정된 값으로 수렴함을 보여준다.
- 변동성의 점프는 표준편차가 커지기는 하지만 수익이 높아지는 결과로 이어질 수 있음을 관찰하였다.
- 본 논문은 새롭게 제안된 모형들을 기존의 주가 영향 모형들과 비교함으로써 결론을 맺으며, 이들 새로운 모형들과 시장조성자의 성과가 실질적으로 개선되었음을 나타낸다.
